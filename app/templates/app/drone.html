{% extends 'base.html' %}
{% load static %}

{% block title %}RG Luxe Events - Drone{% endblock %}

{% block content %}
<!-- Banner principal avec l'image back_ban.jpg √©tir√©e sur toute la largeur -->
<div class="hero-banner">
    <div class="banner-background">
        <img src="{% static 'images/back_ban.jpg' %}" alt="Banni√®re RG Luxe Events">
    </div>
    
    <div class="banner-content">
        <div class="banner-left">
            <div class="transport-panel">
                <div class="transport-image diamond1">
                    <a href="{% url 'transport' %}">
                        <img src="{% static 'images/transport_ban.png' %}" alt="Transport de luxe">
                    </a>
                </div>
            </div>
        </div>

        <div class="banner-center">
            <div class="drone-panel">
                <div class="drone-image diamond2">                    
                    <a href="{% url 'drone' %}">
                        <img src="{% static 'images/drone_ban.png' %}" alt="Services drone">
                    </a>
                </div>
                <!-- Logo d√©plac√© en dehors du conteneur avec overflow: hidden -->
                <div class="logo-overlay">
                    <a href="{% url 'home' %}">
                        <img src="{% static 'images/logo_ban.jpg' %}" alt="Logo RG Luxe Events" id="drone-image">
                    </a>
                </div>
            </div>
        </div>

        <div class="banner-right">
            <div class="photobooth-panel">
                <div class="photobooth-image diamond1">                  
                    <a href="{% url 'photobooth' %}">
                        <img src="{% static 'images/photobooth_ban.png' %}" alt="Photobooth">
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Image banni√®re haute -->
<div class="ban-haut" style="display: none;">
    <img src="{% static 'images/ban_haut.jpg' %}" alt="Banni√®re RG Luxe Events">
</div>

<!-- Section principale -->
<section class="drone-section">
    <div class="container">
        <div class="drone-content">
            <!-- Formulaire de r√©servation -->
            <div class="booking-form-container">
                <h2>R√©servation Drone</h2>
                
                <form method="post" class="booking-form" id="drone-form">
                    {% csrf_token %}
                    
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.first_name.label_tag }}
                            {{ form.first_name }}
                        </div>
                        <div class="form-group">
                            {{ form.last_name.label_tag }}
                            {{ form.last_name }}
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.email.label_tag }}
                            {{ form.email }}
                        </div>
                        <div class="form-group">
                            {{ form.phone.label_tag }}
                            {{ form.phone }}
                        </div>
                    </div>
                    
                    <div class="form-group">
                        {{ form.date.label_tag }}
                        {{ form.date }}
                    </div>
                    
                    <div class="form-group">
                        {{ form.description.label_tag }}
                        {{ form.description }}
                        <small class="form-help">D√©crivez en d√©tail votre projet et vos besoins sp√©cifiques</small>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Envoyer la demande</button>
                </form>
            </div>
            
            <!-- Pr√©sentation du service -->
            <div class="service-presentation">
                <h3>Services Drone</h3>
                <p>Prises de vue a√©riennes par drone ‚Äì Photo & Vid√©o</p>
                <p>Offrez une nouvelle dimension √† vos projets gr√¢ce √† nos images a√©riennes en haute d√©finition.</p>
                <p style="font-weight: bold;">Id√©al pour :</p>

                <div class="service-features">                    
                    <div class="feature">
                        <i class="feature-icon">üèóÔ∏è</i>
                        <h4>Immobilier</h4>
                        <p>Mise en valeur de biens avec vues panoramiques</p>
                    </div>

                    <div class="feature">
                        <i class="feature-icon">üé•</i>
                        <h4>Mariages</h4>
                        <p>Souvenirs uniques vus du ciel</p>
                    </div>
                    
                    <div class="feature">
                        <i class="feature-icon">üì∏</i>
                        <h4>√âv√©nements</h4>
                        <p>Festivals, comp√©titions sportives, inaugurations</p>
                    </div>
                    
                    <div class="feature">
                        <i class="feature-icon">üé¨</i>
                        <h4>Projets professionnels </h4>
                        <p>Chantiers, suivi d‚Äôavancement, valoriser l'image de l‚Äôentreprise</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Messages de succ√®s/erreur -->
{% if messages %}
<div class="messages-container">
    {% for message in messages %}
    <div class="message {% if message.tags %}message-{{ message.tags }}{% endif %}">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Bloquer les dates ant√©rieures √† aujourd'hui
    const dateInput = document.getElementById('id_date');
    if (dateInput) {
        const today = new Date().toISOString().split('T')[0];
        dateInput.setAttribute('min', today);
        
        // Validation suppl√©mentaire c√¥t√© client
        dateInput.addEventListener('change', function() {
            const selectedDate = new Date(this.value);
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            if (selectedDate < today) {
                alert('Veuillez s√©lectionner une date future.');
                this.value = '';
            }
        });
    }
});
</script>
{% endblock %} 