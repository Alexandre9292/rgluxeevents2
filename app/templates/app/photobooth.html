{% extends 'base.html' %}
{% load static %}

{% block title %}RG Luxe Events - Photobooth{% endblock %}

{% block content %}
<!-- Banner principal avec le design de l'image -->
<div class="hero-banner" style="display: none;">
    <div class="banner-content">
        <div class="banner-left">
            <div class="transport-panel">
                <div class="transport-image">
                    <img src="{% static 'images/voiture-porsche.jpg' %}" alt="Transport de luxe">
                    <div class="transport-overlay">
                        <div class="luxury-car">
                            <img src="{% static 'images/voiture-amg.jpg' %}" alt="Voiture de luxe">
                        </div>
                        <div class="private-jet">
                            <img src="{% static 'images/aeroport.jpg' %}" alt="Jet priv√©">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="banner-center">
            <div class="logo-container">
                <div class="main-logo">
                    <h1>RG Luxe Events</h1>
                </div>
            </div>
            <div class="drone-panel">
                <div class="drone-image">
                    <img src="{% static 'images/service-aeroport.jpg' %}" alt="Services drone">
                </div>
            </div>
        </div>
        
        <div class="banner-right">
            <div class="photobooth-panel">
                <div class="photobooth-image">
                    <img src="{% static 'images/service-mariage.jpg' %}" alt="Photobooth">
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Image banni√®re haute -->
<div class="ban-haut">
    <img src="{% static 'images/ban_haut.jpg' %}" alt="Banni√®re RG Luxe Events">
</div>

<!-- Section principale -->
<section class="photobooth-section">
    <div class="container">
        <div class="photobooth-content">
            <!-- Formulaire de r√©servation -->
            <div class="booking-form-container">
                <h2>R√©servation Photobooth</h2>
                
                <form method="post" class="booking-form" id="photobooth-form">
                    {% csrf_token %}
                    
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.first_name.label_tag }}
                            {{ form.first_name }}
                        </div>
                        <div class="form-group">
                            {{ form.last_name.label_tag }}
                            {{ form.last_name }}
                        </div>
                    </div>
                    
                    <div class="form-group">
                        {{ form.address.label_tag }}
                        {{ form.address }}
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.email.label_tag }}
                            {{ form.email }}
                        </div>
                        <div class="form-group">
                            {{ form.phone.label_tag }}
                            {{ form.phone }}
                        </div>
                    </div>
                    
                    <div class="form-group">
                        {{ form.service_type.label_tag }}
                        {{ form.service_type }}
                    </div>
                    
                    <div class="form-row" id="hours-fields" style="display: none;">
                        <div class="form-group">
                            {{ form.hours.label_tag }}
                            {{ form.hours }}
                        </div>
                    </div>
                    
                    <div class="form-row" id="days-fields" style="display: none;">
                        <div class="form-group">
                            {{ form.days.label_tag }}
                            {{ form.days }}
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.event_date.label_tag }}
                            {{ form.event_date }}
                        </div>
                        <div class="form-group">
                            {{ form.event_time.label_tag }}
                            {{ form.event_time }}
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.location.label_tag }}
                            {{ form.location }}
                        </div>
                        <div class="form-group">
                            {{ form.event_type.label_tag }}
                            {{ form.event_type }}
                        </div>
                    </div>
                    
                    <!-- Affichage du prix -->
                    <div class="price-display" id="price-display" style="display: none;">
                        <div class="price-label">Prix estim√© :</div>
                        <div class="price-value" id="price-value">0‚Ç¨</div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Envoyer la demande</button>
                </form>
            </div>
            
            <!-- Pr√©sentation du service -->
            <div class="service-presentation">
                <h3>Location Photobooth</h3>
                <p>Cr√©ez l'√©ffet ‚ÄúWOUAH‚Äù √† votre √©v√©nement !</p>
                <p>Avec notre PHOTOBOOTH, offrez √† vos invit√©s des poses d√©jant√©es, des fous rires, des clich√©s √†
                    imprimer ou √† partager sur les r√©seaux sociaux ...</p>
                <p>Mariage, anniversaire, baby-shower, soir√©e priv√©e, ou divers √©v√©nements</p>
                <br>
                <p style="font-weight: bold;">Inclus dans toutes les formules :</p>
                <ul>
                    <li>tirage photo illimit√© avec impression instantan√©e en format 10x15cm ou 15x10cm</li>
                    <li>envoi photo par e-mail</li>
                    <li>personnalisation de l'√©cran de la machine</li>
                    <li>personnalisation du cadre photo aux couleurs de votre √©v√©nement</li>
                    <li>galerie photo en ligne</li>
                    <li>accessoires de d√©guisements ( lunettes, chapeaux, masques,...)</li>
                    <li>livraison, installation et r√©cup√©ration de la machine</li>
                    <li>service assistance</li>
                </ul>

                <div class="service-features">
                    <div class="feature">
                        <i class="feature-icon">üì∏</i>
                        <h4>Haute qualit√©</h4>
                        <p>Tirage photo illimit√© avec impression instantan√©e en format 10x15cm ou 15x10cm</p>
                        <p>Personnalisation de l'√©cran de la machine</p>
                        <p>Personnalisation du cadre photo aux couleurs de votre √©v√©nement</p>
                    </div>
                    
                    <div class="feature">
                        <i class="feature-icon">üíæ</i>
                        <h4>Partage num√©rique</h4>
                        <p>Galerie photo en ligne</p>
                        <p>Envoi photo par e-mail</p>
                    </div>
                    
                    <div class="feature">
                        <i class="feature-icon">üé≠</i>
                        <h4>Accessoires inclus</h4>
                        <p>Accessoires de d√©guisements ( lunettes, chapeaux, masques,...)</p>
                    </div>
                    
                    <div class="feature">
                        <i class="feature-icon">üöõ</i>
                        <h4>Service assistance</h4>
                        <p>livraison, installation et r√©cup√©ration de la machine</p>
                    </div>
                </div>
                
                
                <div class="pricing-info">
                    <h4>Tarifs particuliers</h4>
                    <p>Choisissez la formule qui vous convient :</p>
                    <ul>
                        <li><strong>√Ä la journ√©e/soir√©e :</strong> secteur Est √† 395,00‚Ç¨ et secteur Nord / Ouest / Sud √†
                            450,00‚Ç¨<br><span style="font-style: italic;">profitez-en du d√©but √† la fin de votre √©v√©nement, sans limite !</span></li>
                        <li><strong>√Ä l'heure :</strong> 79,90‚Ç¨/heure (minimum 2h)
                            <br><span style="font-style: italic;">id√©al pour un √©v√©nement court ou un moment cl√© de votre soir√©e.</span></li>
                    </ul>
                </div>
                <div class="pricing-info">
                    <h4>Tarifs professionnels</h4>
                    <p>Solutions adapt√©es √† vos besoins :</p>
                    <ul>
                        <li><strong>Location longue dur√©e :</strong> 400,00‚Ç¨ / jour ( dur√©e de 10h00) - tarif d√©gressif selon le nombre
                            de jour<br><span style="font-style: italic;">Pour une utilisation sur plusieurs jours ou semaines (foires, animations permanentes,
                                campagnes marketing).</span></li>
                        <li><strong>Location √† l‚Äô√©v√©nement :</strong> 80‚Ç¨/heure ou 490,00‚Ç¨ ( dur√©e de 7h00)
                            <br><span style="font-style: italic;">Pour vos salons, s√©minaires, inaugurations ou op√©rations commerciales.</span></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Messages de succ√®s/erreur -->
{% if messages %}
<div class="messages-container">
    {% for message in messages %}
    <div class="message {% if message.tags %}message-{{ message.tags }}{% endif %}">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}

<script>
document.addEventListener('DOMContentLoaded', function() {
    const serviceTypeSelect = document.getElementById('id_service_type');
    const hoursFields = document.getElementById('hours-fields');
    const daysFields = document.getElementById('days-fields');
    const priceValue = document.getElementById('price-value');
    
    // Gestion de l'affichage des champs selon le type de service
    function updateFields() {
        const selectedValue = serviceTypeSelect.value;
        
        if (selectedValue === 'heure') {
            hoursFields.style.display = 'flex';
            daysFields.style.display = 'none';
        } else if (selectedValue === 'journee') {
            hoursFields.style.display = 'none';
            daysFields.style.display = 'flex';
        } else {
            hoursFields.style.display = 'none';
            daysFields.style.display = 'none';
        }
        
        calculatePrice();
    }
    
    // Calcul du prix
    function calculatePrice() {
        const selectedValue = serviceTypeSelect.value;
        let price = 0;
        
        if (selectedValue === 'heure') {
            const hours = parseInt(document.getElementById('id_hours').value) || 0;
            if (hours >= 2) {
                price = hours * 85;
            }
        } else if (selectedValue === 'journee') {
            const days = parseInt(document.getElementById('id_days').value) || 0;
            if (days >= 1) {
                price = days * 400;
            }
        }
        
        priceValue.textContent = price + '‚Ç¨';
        
        // Afficher/masquer la zone de prix selon la valeur
        const priceDisplay = document.getElementById('price-display');
        if (price > 0) {
            priceDisplay.style.display = 'flex';
        } else {
            priceDisplay.style.display = 'none';
        }
    }
    
    // √âv√©nements
    serviceTypeSelect.addEventListener('change', updateFields);
    
    const hoursInput = document.getElementById('id_hours');
    const daysInput = document.getElementById('id_days');
    
    if (hoursInput) {
        hoursInput.addEventListener('input', calculatePrice);
    }
    
    if (daysInput) {
        daysInput.addEventListener('input', calculatePrice);
    }
    
    // Initialisation
    updateFields();
});
</script>
{% endblock %} 